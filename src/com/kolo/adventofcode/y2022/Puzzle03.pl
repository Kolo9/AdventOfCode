open(F,'<','in03');

# part 1
#$l=0|y///c/2,/.{$l}/l,$'=~/[$&]/,$%+=ord($&)%32+26*('a'gt$&)for<F>;print$%

# part 2
@F=<F>;($a,$b,$c)=@F[$_*3..$_*3+2],$b=~s/[^$a]//g,$c=~/[$b]/,$%+=ord($&)%32+26*('a'gt$&)for 0..@F/3-1;print$%